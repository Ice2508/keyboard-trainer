'use strict'

const words = [
    `–ù–∞—É—á–Ω–∞—è —Å—Ç–∞—Ç—å—è - –∑–∞–∫–æ–Ω—á–µ–Ω–Ω–æ–µ –∞–≤—Ç–æ—Ä—Å–∫–æ–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, –æ–ø–∏—Å—ã–≤–∞—é—â–µ–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –Ω–∞—É—á–Ω–æ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (–ø–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—É—á–Ω–∞—è —Å—Ç–∞—Ç—å—è) –∏–ª–∏ –ø–æ—Å–≤—è—â—ë–Ω–Ω–∞—è —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—é —Ä–∞–Ω–µ–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞—É—á–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—â–µ–π —Ç–µ–º–æ–π (–æ–±–∑–æ—Ä–Ω–∞—è –Ω–∞—É—á–Ω–∞—è —Å—Ç–∞—Ç—å—è). –í –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –Ω–∞—É—á–Ω—ã—Ö —Å—Ç–∞—Ç—å—è—Ö –∞–≤—Ç–æ—Ä–∞–º–∏ –∏–∑–ª–∞–≥–∞–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≤–µ–¥—ë–Ω–Ω–æ–º –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –≤ —Ñ–æ—Ä–º–µ, –ø–æ–∑–≤–æ–ª—è—é—â–µ–π –¥—Ä—É–≥–∏–º —á–ª–µ–Ω–∞–º –Ω–∞—É—á–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –æ—Ü–µ–Ω–∏—Ç—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã, –∞ —Ç–∞–∫–∂–µ –æ—Ü–µ–Ω–∏—Ç—å —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è –∏ —Å–¥–µ–ª–∞–Ω–Ω—ã–µ –∏–∑ –Ω–∏—Ö –≤—ã–≤–æ–¥—ã. –û–±–∑–æ—Ä–Ω—ã–µ –Ω–∞—É—á–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –æ–±–æ–±—â–µ–Ω–∏—è, –∞–Ω–∞–ª–∏–∑–∞, –æ—Ü–µ–Ω–∫–∏, —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ —Å–∏–Ω—Ç–µ–∑–∞ —Ä–∞–Ω–µ–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–ø–µ—Ä–≤–∏—á–Ω—ã—Ö –Ω–∞—É—á–Ω—ã—Ö –ø—É–±–ª–∏–∫–∞—Ü–∏–π). –ù–µ—Ä–µ–¥–∫–æ –Ω–∞—É—á–Ω–∞—è —Å—Ç–∞—Ç—å—è —Å–æ—á–µ—Ç–∞–µ—Ç –≤ —Å–µ–±–µ —ç—Ç–∏ –¥–≤–∞ —Ç–∏–ø–∞`,
    `–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –¥–ª—è –Ω–∞—É—á–Ω–æ–π —Å—Ç–∞—Ç—å–∏ —è–≤–ª—è–µ—Ç—Å—è –ø–µ—á–∞—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞. –≠—Ç–∞ —Å–∏—Ç—É–∞—Ü–∏—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è - –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –Ω–∞—Ä—è–¥—É —Å –≤—ã–ø—É—Å–∫–æ–º –ø–µ—á–∞—Ç–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –∂—É—Ä–Ω–∞–ª–∞ –≤—ã–∫–ª–∞–¥—ã–≤–∞—é—Ç —Ç–µ–∫—Å—Ç—ã –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞—É—á–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –≤ —Å–≤–æ–±–æ–¥–Ω—ã–π –¥–æ—Å—Ç—É–ø. –û–¥–Ω–∞–∫–æ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –¥–ª—è –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –∏–ª–∏ –Ω–∞ –ø–ª–∞—Ç–Ω–æ–π –æ—Å–Ω–æ–≤–µ, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –∏ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –ø–æ–∏—Å–∫ –Ω–∞—É—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è. –ü—Ä–æ–µ–∫—Ç "–ö–∏–±–µ—Ä–õ–µ–Ω–∏–Ω–∫–∞" –ø—Ä–∏–∑–≤–∞–Ω –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é –≤ —ç—Ç–æ–π –æ–±–ª–∞—Å—Ç–∏`,
    `–ó–∞–±–æ–ª–µ–≤–∞–Ω–∏—é –ø–æ–¥–≤–µ—Ä–∂–µ–Ω—ã –∏ –≤–∑—Ä–æ—Å–ª—ã–µ —Ä–∞—Å—Ç–µ–Ω–∏—è, —Å–æ–≤—Å–µ–º –º–æ–ª–æ–¥–∞—è —Ä–∞—Å—Å–∞–¥–∞ - —É–∂–µ –≤ –≤–æ–∑—Ä–∞—Å—Ç–µ —Å–µ–º—è–¥–æ–ª–µ–π, –∫–æ–≥–¥–∞ –∏–∑ –∑–µ–º–ª–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–µ—Ä–≤—ã–µ —Ä–æ—Å—Ç–∫–∏. –û—Å–Ω–æ–≤–∞–Ω–∏–µ —Å—Ç–µ–±–µ–ª—å–∫–∞ —á–µ—Ä–Ω–µ–µ—Ç –∏ –∏—Å—Ç–æ–Ω—á–∞–µ—Ç—Å—è, –æ–Ω –ª–µ–≥–∫–æ –æ—Ç—Ä—ã–≤–∞–µ—Ç—Å—è –æ—Ç –∫–æ—Ä–Ω—è. –ë–æ–ª–µ–∑–Ω–∏ —Ä–∞—Å—Ç–µ–Ω–∏–π —Ç–∞–∫–æ–≥–æ —Ç–∏–ø–∞ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è —Ñ—É–∑–∞—Ä–∏–æ–∑–∞–º–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –≥—Ä–∏–±–∫–∞–º–∏, - —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –ò–≤–∞–Ω –ú–∏—Ö–∞–ª—å—á–∏–∫. - –≠—Ç–æ —á–∞—â–µ –≤—Å–µ–≥–æ –±–µ—Å–ø–æ–ª—ã–µ –∞—Å–∫–æ–º–∏—Ü–µ—Ç–æ–≤—ã–µ (—Å—É–º—á–∞—Ç—ã–µ) –≥—Ä–∏–±—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–∞—Ç–æ–≥–µ–Ω–Ω—ã –∏ –º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å —Ç–æ–∫—Å–∏–∫–æ–∑—ã —É —á–µ–ª–æ–≤–µ–∫–∞, –∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–∑–∞—Ä–∏–∏ –≤—ã–∑—ã–≤–∞—é—Ç –¥–µ—Ä–º–∞—Ç–∏—Ç—ã. –¢–∞–∫ —á—Ç–æ —à—É—Ç–∏—Ç—å —Å —Ñ—É–∑–∞—Ä–∏–æ–∑–∞–º–∏ –Ω–µ —Å—Ç–æ–∏—Ç.`,
    `–í—ã, –∫–æ–Ω–µ—á–Ω–æ, –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ —Ç–∞–∫–æ–µ –≥—Ä–∞—Ñ—ã - —Å—Ç–æ–ª—å–∫–æ —Ä–∞–∑ —ç—Ç–æ –≤ –ö–≤–∞–Ω—Ç–∏–∫–µ1 –æ–±—Å—É–∂–¥–∞–ª–æ—Å—å, –∫–∞–∫ –∂–µ –Ω–µ –∑–Ω–∞—Ç—å? –ï—Å–ª–∏ –≥–æ–≤–æ—Ä–∏—Ç—å –ø—Ä–æ—Å—Ç–æ, —ç—Ç–æ —Ç–æ—á–∫–∏, —Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ –ª–∏–Ω–∏—è–º–∏. –¢–æ—á–∫–∏ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –≤–µ—Ä—à–∏–Ω–∞–º–∏ –≥—Ä–∞—Ñ–∞, –ª–∏–Ω–∏–∏ (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä—è–º—ã–µ) - –µ–≥–æ —Ä—ë–±—Ä–∞–º–∏. –í–µ—Ä—à–∏–Ω—ã –≥—Ä–∞—Ñ–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ-—Ç–∞–∫-—Å–∞–º–∏-–ø–æ-—Å–µ–±–µ-—Ç–æ—á–∫–∏, –∞ –º–æ–≥—É—Ç —á—Ç–æ-–Ω–∏–±—É–¥—å –æ–∑–Ω–∞—á–∞—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ä–æ–¥–æ—Å–ª–æ–≤–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω—ã –≥—Ä–∞—Ñ–∞ - –ª—é–¥–∏, –∞ —Ä—ë–±—Ä–∞ –≥—Ä–∞—Ñ–∞ —Å–æ–µ–¥–∏–Ω—è—é—Ç –º—É–∂–µ–π —Å –∂—ë–Ω–∞–º–∏ –∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π —Å –∏—Ö –¥–µ—Ç—å–º–∏. –ò–ª–∏ –≤–µ—Ä—à–∏–Ω—ã –≥—Ä–∞—Ñ–∞ –º–æ–≥—É—Ç –æ–±–æ–∑–Ω–∞—á–∞—Ç—å —Ä–µ–±—è—Ç –≤ –∫–ª–∞—Å—Å–µ, –∞ –ª–∏–Ω–∏–∏ - –∫—Ç–æ —Å –∫–µ–º –¥—Ä—É–∂–∏—Ç. –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å —Ç–∞–∫–æ–π –≥—Ä–∞—Ñ –º–æ–∂–Ω–æ –ø–æ-—Ä–∞–∑–Ω–æ–º—É - –≤–∞–∂–Ω–æ –ª–∏—à—å, –∫–∞–∫–∏–µ –≤–µ—Ä—à–∏–Ω—ã —Å –∫–∞–∫–∏–º–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω—ã.`,
    `–ú–∞—Ä—Å, —á–µ—Ç–≤–µ—Ä—Ç–∞—è –ø–ª–∞–Ω–µ—Ç–∞ –æ—Ç –°–æ–ª–Ω—Ü–∞, —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º –ø—Ä–∏—Å—Ç–∞–ª—å–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è —É—á–µ–Ω—ã—Ö. –≠—Ç–æ –∫–∞–º–µ–Ω–∏—Å—Ç–∞—è –ø–ª–∞–Ω–µ—Ç–∞ –∑–µ–º–Ω–æ–π –≥—Ä—É–ø–ø—ã, –∏–∑–≤–µ—Å—Ç–Ω–∞—è —Å–≤–æ–∏–º –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º, –æ–±—É—Å–ª–æ–≤–ª–µ–Ω–Ω—ã–º –æ–∫—Å–∏–¥–æ–º –∂–µ–ª–µ–∑–∞ –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏. –ú–∞—Ä—Å –æ–±–ª–∞–¥–∞–µ—Ç —Ç–æ–Ω–∫–æ–π –∞—Ç–º–æ—Å—Ñ–µ—Ä–æ–π –∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º–∏ –≥–µ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ –≤—É–ª–∫–∞–Ω—ã, –¥–æ–ª–∏–Ω—ã –∏ –ø–æ–ª—è—Ä–Ω—ã–µ —à–∞–ø–∫–∏. –í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –≤–µ–¥—É—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ –ø–æ–∏—Å–∫ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –ø—Ä–æ—à–ª–æ–π –∏–ª–∏ –Ω–∞—Å—Ç–æ—è—â–µ–π –∂–∏–∑–Ω–∏ –Ω–∞ –ø–ª–∞–Ω–µ—Ç–µ. –ú–∞—Ä—Å –∏–∑–¥–∞–≤–Ω–∞ –≤—ã–∑—ã–≤–∞–ª –∏–Ω—Ç–µ—Ä–µ—Å –Ω–µ —Ç–æ–ª—å–∫–æ —É –∞—Å—Ç—Ä–æ–Ω–æ–º–æ–≤, –Ω–æ –∏ —É —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤ –∏ –¥–µ—è—Ç–µ–ª–µ–π –∏—Å–∫—É—Å—Å—Ç–≤–∞.`,
    `–ú–µ—Ä–∫—É—Ä–∏–π - —Å–∞–º–∞—è –º–∞–ª–µ–Ω—å–∫–∞—è –ø–ª–∞–Ω–µ—Ç–∞ –°–æ–ª–Ω–µ—á–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ –±–ª–∏–∂–∞–π—à–∞—è –∫ –°–æ–ª–Ω—Ü—É, –≤–æ–∫—Ä—É–≥ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–Ω–∞ —Å–æ–≤–µ—Ä—à–∞–µ—Ç –æ–¥–∏–Ω –æ–±–æ—Ä–æ—Ç –∫–∞–∂–¥—ã–µ 87.97 –∑–µ–º–Ω—ã—Ö —Å—É—Ç–æ–∫. –ù–∞–∑–≤–∞–Ω–∞ –≤ —á–µ—Å—Ç—å –¥—Ä–µ–≤–Ω–µ—Ä–∏–º—Å–∫–æ–≥–æ –±–æ–≥–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏ - –±—ã—Å—Ç—Ä–æ–≥–æ –ú–µ—Ä–∫—É—Ä–∏—è. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ú–µ—Ä–∫—É—Ä–∏–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Å–∫—É–¥–Ω–∞, —Ç–∞–∫ –∫–∞–∫ –≤ –Ω–∞–∑–µ–º–Ω—ã–µ —Ç–µ–ª–µ—Å–∫–æ–ø—ã –º–æ–∂–Ω–æ –Ω–∞–±–ª—é–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –æ—Å–≤–µ—â–µ–Ω–Ω—ã–π –ø–æ–ª—É–º–µ—Å—è—Ü –±–µ–∑ –æ—Å–æ–±—ã—Ö –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π. –ü–µ—Ä–≤—ã–º –∏–∑ –¥–≤—É—Ö –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö –∞–ø–ø–∞—Ä–∞—Ç–æ–≤, –ø–æ—Å–µ—Ç–∏–≤—à–∏—Ö –ø–ª–∞–Ω–µ—Ç—É, –±—ã–ª "–ú–∞—Ä–∏–Ω–µ—Ä-10", –∫–æ—Ç–æ—Ä–æ–º—É —É–¥–∞–ª–æ—Å—å —Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å –æ–∫–æ–ª–æ 45% –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –ø–ª–∞–Ω–µ—Ç—ã —Å 1974 –ø–æ 1975 –≥–æ–¥. –§–∏–∑–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø–ª–∞–Ω–µ—Ç—ã –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã –õ—É–Ω–µ. –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –ú–µ—Ä–∫—É—Ä–∏—è –∏–º–µ–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫—Ä–∞—Ç–µ—Ä–æ–≤ –∏ –≥–ª–∞–¥–∫–∏—Ö –ø–ª–æ—Å–∫–∏—Ö —É—á–∞—Å—Ç–∫–æ–≤, –∫–∞–∫ –∏ –õ—É–Ω–∞, —É –Ω–µ–≥–æ –Ω–µ—Ç –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–ø—É—Ç–Ω–∏–∫–æ–≤ –∏ –ø–æ—á—Ç–∏ –Ω–µ—Ç –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã.`,
    `–ö–æ—Å—Ç–∞-–†–∏–∫–∞ - –Ω–µ–±–æ–ª—å—à–æ–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ –≤ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –ê–º–µ—Ä–∏–∫–µ, –∏–∑–≤–µ—Å—Ç–Ω–æ–µ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–Ω–æ–π –∫—Ä–∞—Å–æ—Ç–æ–π –∏ –ø—Ä–∏–≤–µ—Ä–∂–µ–Ω–Ω–æ—Å—Ç—å—é –∫ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º—É —Ç—É—Ä–∏–∑–º—É. –°—Ç—Ä–∞–Ω–∞ —Å–ª–∞–≤–∏—Ç—Å—è —Å–≤–æ–∏–º–∏ —Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏–º–∏ –ª–µ—Å–∞–º–∏, –≤—É–ª–∫–∞–Ω–∞–º–∏, –ø–ª—è–∂–∞–º–∏ –∏ –±–æ–≥–∞—Ç—ã–º –±–∏–æ—Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ–º. –ö–æ—Å—Ç–∞-–†–∏–∫–∞ —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–æ–π –∏–∑ —Å–∞–º—ã—Ö –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω –õ–∞—Ç–∏–Ω—Å–∫–æ–π –ê–º–µ—Ä–∏–∫–∏, —Ö–æ—Ç—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–±–ª—é–¥–∞—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å –≤ –∫—Ä—É–ø–Ω—ã—Ö –≥–æ—Ä–æ–¥–∞—Ö.–ö–æ—Å—Ç–∞-–†–∏–∫–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –º–µ–∂–¥—É –ù–∏–∫–∞—Ä–∞–≥—É–∞ –∏ –ü–∞–Ω–∞–º–æ–π, –∏–º–µ–µ—Ç –≤—ã—Ö–æ–¥ –∫ –¢–∏—Ö–æ–º—É –æ–∫–µ–∞–Ω—É –∏ –ö–∞—Ä–∏–±—Å–∫–æ–º—É –º–æ—Ä—é. –ë–æ–ª–µ–µ —á–µ—Ç–≤–µ—Ä—Ç–∏ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ —Å—Ç—Ä–∞–Ω—ã –∑–∞–Ω–∏–º–∞—é—Ç –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∫–∏ –∏ –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫–∏.`,
    `–ü–æ–ø–∞–≤ –≤ –ê—Ä–≥–µ–Ω—Ç–∏–Ω—É, –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ —ç—Ç–∞ —Å—Ç—Ä–∞–Ω–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è —Å–≤–æ–µ–æ–±—Ä–∞–∑–∏–µ–º –æ—Ç –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–∞. –≠—Ç–æ —é–∂–Ω–æ–∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ –ø—Ä–æ—Å–ª–∞–≤–∏–ª–æ—Å—å —Å–∞–º–æ–±—ã—Ç–Ω–æ–π –∫—É–ª—å—Ç—É—Ä–æ–π, –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –∞—Ç–º–æ—Å—Ñ–µ—Ä–æ–π –∏ —Å–º–µ—à–∞–Ω–Ω—ã–º–∏ –æ–±—ã—á–∞—è–º–∏ –°—Ç–∞—Ä–æ–≥–æ –∏ –ù–æ–≤–æ–≥–æ –°–≤–µ—Ç–∞. –ï–µ –Ω–µ–ø–æ–≤—Ç–æ—Ä–∏–º—ã–µ —Ä—É–∫–æ–¥–µ–ª—å–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è –∏ –ø–∞–º—è—Ç–Ω—ã–µ –º–µ—Å—Ç–∞ –ø—Ä–∏–≤–ª–µ–∫–∞—é—Ç —Ç—É—Ä–∏—Å—Ç–æ–≤ —Å–æ –≤—Å–µ–≥–æ —Å–≤–µ—Ç–∞. –ù–µ—Ç–∏–ø–∏—á–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∏ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ê—Ä–≥–µ–Ω—Ç–∏–Ω—ã —Å–ø–æ—Å–æ–±–Ω—ã –ø–æ–∫–æ—Ä–∏—Ç—å —Å–µ—Ä–¥—Ü–∞ –≥–æ—Å—Ç–µ–π —ç—Ç–æ–π —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω—ã. –ó–∞–Ω–∏–º–∞—è –ª–∏–¥–∏—Ä—É—é—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —é–∂–Ω–æ–∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–∞ –ø–æ –¥–µ–º–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º—É —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—é, –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ —è–≤–ª—è–µ—Ç—Å—è —Ç—Ä–µ—Ç—å–∏–º –ø–æ—Å–ª–µ –ë—Ä–∞–∑–∏–ª–∏–∏ –∏ –ö–æ–ª—É–º–±–∏–∏. –ù–∞—Å–µ–ª–µ–Ω–∏–µ –ê—Ä–≥–µ–Ω—Ç–∏–Ω—ã —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–≤—ã—à–µ —Å–æ—Ä–æ–∫–∞ –º–∏–ª–ª–∏–æ–Ω–æ–≤ —á–µ–ª–æ–≤–µ–∫.`
];

const gameState = {
    wrap: document.querySelector('.wrap'),
    startBtn: document.querySelector('.nav__start-btn'),
    inputName: document.querySelector('.popup-name__input'),
    popupNameButton: document.querySelector('.popup-name__btn'),
    popupName: document.querySelector('.popup-name'),
    recordsSectionTable: document.querySelector('.records-section__table'),
    name: '',
    currentIndex: 0,
    currentLetters: [],
    error: 0,
    saveArr: JSON.parse(localStorage.getItem('players')) || [],
    keydown: null
};

function randomWords(arr) {
    const randomIndex = Math.floor(Math.random() * arr.length);
    const normalizedText = arr[randomIndex].replace(/\s+/g, ' ').trim();
    return normalizedText
        .split('')
        .map(el => `<span class="letter">${el}</span>`)
        .join('');
}

function startGame() {
    gameState.startBtn.addEventListener('click', () => {
        gameState.wrap.innerHTML = `
            <div class="game-info">
                <div class="game-info__img"><img src="–∑–∞–≥—Ä—É–∑–∫–∞1.png" alt=""></div>	
                <div class="game-info__error">–û—à–∏–±–æ–∫: 0</div>
                <div class="game-info__time">60</div>
            </div>
        `;
        gameState.popupName.classList.add('popup-name--active');
        gameState.popupName.addEventListener('transitionend', () => {
            const popupClose = document.querySelector('.popup-name__close');
            popupClose.addEventListener('click', () => {
                location.reload();
            });
        }, { once: true });
    });

    gameState.popupNameButton.addEventListener('click', () => {
        gameState.name = gameState.inputName.value.trim();
        if (gameState.name !== '') {
            gameState.popupName.classList.remove('popup-name--active');
            gameState.popupName.addEventListener('transitionend', () => {
                const randomText = randomWords(words);
                gameState.wrap.innerHTML = `
                    <div class="game-info">
                         <div class="game-info__img"><img src="–∑–∞–≥—Ä—É–∑–∫–∞1.png" alt=""></div>	
                        <div class="game-info__name">${gameState.name}</div>
                        <div class="game-info__error">–û—à–∏–±–æ–∫: ${gameState.error}</div>
                        <div class="game-info__time">60</div>
                    </div>
                    <div class="random-text">
                        ${randomText}
                    </div>
                `;
                gameState.currentLetters = document.querySelectorAll('.letter');
                handleTyping();
                timer();
            }, { once: true });
        }
    });
}

function timer() {
    const time = document.querySelector('.game-info__time');
    const timerStop = setInterval(() => {
        let timeCount = +time.textContent;
        timeCount--;
        time.textContent = timeCount;
        console.log('Timer:', timeCount);
        if (timeCount <= 0) {
            if (gameState.keydown) {
                document.removeEventListener('keydown', gameState.keydown);
                gameState.keydown = null;
            }
            clearInterval(timerStop);
            const audioWin = new Audio('play2.mp3');
            audioWin.play().then(() => {
                audioWin.onended = () => {
                    gameState.saveArr.push({name: gameState.name, scores: gameState.currentIndex});
                    localStorage.setItem('players', JSON.stringify(gameState.saveArr));
                    gameState.popupName.classList.add('popup-name--active');
                    gameState.popupName.addEventListener('transitionend', () => {
                        gameState.wrap.innerHTML = `
                          <div class="game-info">
                            <div class="game-info__img"><img src="–∑–∞–≥—Ä—É–∑–∫–∞1.png" alt=""></div>	
                            <div class="game-info__error">–û—à–∏–±–æ–∫: 0</div>
                            <div class="game-info__time">60</div>
                          </div>
                          `;
                        const inputNameLabel = document.querySelector('.input-name__label');
                        inputNameLabel.textContent = '–†–µ–∑—É–ª—å—Ç–∞—Ç:';
                        const p = document.createElement('p');
                        p.className = 'popup-result';
                        p.textContent = `${gameState.currentIndex} –∑–Ω/–º–∏–Ω, –æ—à–∏–±–æ–∫: ${gameState.error}`;
                        gameState.inputName.replaceWith(p);
                        const resultBtn = document.createElement('button');
                        resultBtn.classList.add('resultBtn', 'popup-name__btn--btn');
                        resultBtn.textContent = 'ok';
                        gameState.popupNameButton.replaceWith(resultBtn);
                        resultBtn.onclick = () => location.reload();
                    }, { once: true });
                };
            }).catch(error => {
                console.error('–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∑–≤—É–∫–∞:', error);
                gameState.saveArr.push({name: gameState.name, scores: gameState.currentIndex});
                localStorage.setItem('players', JSON.stringify(gameState.saveArr));
                location.reload();
            });
        }
    }, 1000);
}

function handleTyping() {
    const ignoredKeys = ['Shift', 'CapsLock', 'Enter'];

    document.addEventListener('keydown', function keydownFn(event) {
        if (gameState.popupName.classList.contains('popup-name--active')) return;
        const pressedKey = event.key;
        if (ignoredKeys.includes(pressedKey) || !gameState.currentLetters.length || gameState.currentIndex >= gameState.currentLetters.length) return;
        const currentChar = gameState.currentLetters[gameState.currentIndex].textContent;
        console.log('Pressed:', JSON.stringify(pressedKey), 'Current:', JSON.stringify(currentChar), 'Index:', gameState.currentIndex);
        if (currentChar === pressedKey) {
            gameState.currentLetters[gameState.currentIndex].classList.add('letter--active');
            gameState.currentIndex++;
        } else {
            gameState.error++;
            const audioError = new Audio('play.mp3');
            audioError.play();
            const gameInfoError = document.querySelector('.game-info__error');
            gameInfoError.textContent = `–û—à–∏–±–æ–∫: ${gameState.error}`;
            if (gameState.error > 3) {
                alert('–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫');
                location.reload();
            }
        }
        gameState.keydown = keydownFn;
    });
}

function leaderboard() {
    if (gameState.saveArr) {
        const sortArr = gameState.saveArr.sort((a, b) => b.scores - a.scores);
        const topSaveArr = sortArr.slice(0, 5);
        const rows = topSaveArr.map((el, i) => {
            const trophy = i === 0 ? ' üèÜ' : i === 1 ? ' ü•à' : i === 2 ? ' ü•â' : '';
            return `<tr>
                        <td class="records-section__table--number">${i + 1} ${trophy}</td>
                        <td class="records-section__table--player">${el.name}</td>
                        <td class="records-section__table--number">${el.scores} –∑–Ω/–º–∏–Ω</td>
                    </tr>`;
        }).join('');
        gameState.recordsSectionTable.innerHTML = `
            <h2 class="records-section__title">–¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤</h2>
            <table class="records-section__leaderboard">
                <thead>
                    <tr>
                        <th>–ü–æ–∑–∏—Ü–∏—è</th>
                        <th>–ò–º—è –∏–≥—Ä–æ–∫–∞</th>
                        <th>–°–∫–æ—Ä–æ—Å—Ç—å</th>
                    </tr>
                </thead>
                <tbody>
                    ${rows}
                </tbody>
            </table>
        `;
    }
}

startGame();
leaderboard();